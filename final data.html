<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width= initial-scale=1.0">
    <title>Document</title>

    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase.js"></script>
    <!-- <script src="https://www.gstatic.com/firebasejs/9.8.4/firebase-auth.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/9.8.4/firebase-database.js"></script> -->
</head>
<body>
<div id="root"></div>
<div>
    <h1>Humidity</h1>
    <ul id="Humidity">

    </ul>
</div>

<div>
    <h1>Temperature</h1>
    <ul id="Temperature">

    </ul>
</div>
<script>
    // Import the functions you need from the SDKs you need
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    setTimeout(() => {
        const firebaseConfig = {
            apiKey: "AIzaSyBoG-yMEz8fT1ld2Z9cTVC-AqScxxnsWHY",
            authDomain: "dht11-esp8266-ba78a.firebaseapp.com",
            databaseURL: "https://dht11-esp8266-ba78a-default-rtdb.firebaseio.com",
            projectId: "dht11-esp8266-ba78a",
            storageBucket: "dht11-esp8266-ba78a.appspot.com",
            messagingSenderId: "504229218412",
            appId: "1:504229218412:web:a1eb8b686af7e83a967049",
            measurementId: "G-1CPKRRMPDD"
        };

        // Initialize Firebase
        //   const app = firebase.initializeApp(firebaseConfig);
        //   // const analytics = getAnalytics(app);

        //   var firebaseRef = firebase.database().ref("DHT11");
        //   firebaseRef.on("value",function(snapshot){
        //      snapshot.forEach(function(element){
        //        document.querySelector('#root').innerHTML +=`

        //        <div>${element.val()}</div> `

        //   });
        // });
        //    },4000)
        const app = firebase.initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app);

        var firebaseRef = firebase.database().ref("DHT11");
        firebaseRef.on("value", function (snapshot) {
            var data = snapshot.val();
            for (const [key, value] of Object.entries(data)) {
                let list = document.getElementById(key);
                for (const [k, v] of Object.entries(value)) {
                    console.log(k, v);
                    let li = document.createElement("li");
                    li.innerText = v;
                    list.appendChild(li);
                }
            }


        })
    }, 4000)
</script>
</body>
</html>